<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:x="http://www.texmacs.org/2002/extensions" xmlns:m="http://www.w3.org/1998/Math/MathML">
  <head>
    <title>No title</title>
    <meta content="TeXmacs 1.99.12" name="generator"></meta>
    <style type="text/css">
      body { text-align: justify; font-size: 2vw; }

      h5 { display: inline; padding-right: 1em }
      h6 { display: inline; padding-right: 1em } table { border-collapse:
      collapse } td { padding: 0.2em; vertical-align: baseline } dt { float:
      left; min-width: 1.75em; text-align: right; padding-right: 0.75em;
      font-weight: bold; } dd { margin-left: 2.5em; } .subsup { display:
      inline; vertical-align: -0.2em } .subsup td { padding: 0px; text-align:
      left} .fraction { display: inline; vertical-align: -0.8em } .fraction td
      { padding: 0px; text-align: center } .wide { position: relative;
      margin-left: -0.4em } .accent { position: relative; margin-left: -0.4em;
      top: -0.1em } .title-block { width: 100%; text-align: center }
      .title-block p { margin: 0px } .compact-block p { margin-top: 0px;
      margin-bottom: 0px } .left-tab { text-align: left } .center-tab {
      text-align: center } .balloon-anchor { border-bottom: 1px dotted
      #000000; outline: none; cursor: help; position: relative; }
      .balloon-anchor [hidden] { margin-left: -999em; position: absolute;
      display: none; } .balloon-anchor: hover [hidden] { position: absolute;
      left: 1em; top: 2em; z-index: 99; margin-left: 0; width: 500px; display:
      inline-block; } .balloon-body { } .ornament { border-width: 1px;
      border-style: solid; border-color: black; display: inline-block;
      padding: 0.2em; } .right-tab { float: right; position: relative; top:
      -1em } 

      img { width: 65%; height: 65%; display: block; }
    </style>
  </head>
  <body>
    <h2 id="auto-1">1<span style="margin-left: 1em"></span>Basic Operation<span style="margin-left: 1em"></span></h2>
    <center>
      <p>
        <img src="AQI_Gadget_manual-1.png" height="205.2525232" width="337.401408"></img>
      </p>
    </center>
    <ul>
      <li>
        <p>
          <strong>Use the &ldquo;A&rdquo; USB port for normal
          operation</strong>. Any USB cable that fits will power the device
          from this port. You can plug it into any USB port (computer, car,
          phone battery, usb wall charger) to power the device.
        </p>
      </li>
      <li>
        <p>
          <strong>Use the &ldquo;B&rdquo; USB port to change the
          settings</strong>. Make sure to use a proper USB Data Cable so the
          device can talk to the computer. Cables that recharge portable or
          bicycle lights are typically power only so those won't work but will
          power the device just like port &ldquo;A&rdquo;.
        </p>
        <ul>
          <li>
            <p>
              When attached you will see the &ldquo;AQI Gadget&rdquo; disk
              drive on your computer.
            </p>
          </li>
          <li>
            <p>
              Open the README.html file to navigate to settings, the manual,
              or see the current AQI.
            </p>
          </li>
          <li>
            <p>
              You can change WiFi settings, the country you're in (as long as
              its the US or India) and the temperature units.
            </p>
          </li>
        </ul>
      </li>
    </ul>
    <ul>
      <li>
        <p>
          It can take up to one minute for the device to start working after
          you plug it in.
        </p>
      </li>
      <li>
        <p>
          <strong>To power off the device simply unplug it</strong>. When
          using port &ldquo;B&rdquo; your computer might want you to eject the
          disk drive first.
        </p>
      </li>
      <li>
        <p>
          It takes up to 10 minutes or so for the device to become accurate.
          Before that time readings will be less accurate and may vary.
        </p>
        <p>
          
        </p>
      </li>
    </ul>
    <h2 id="auto-2">2<span style="margin-left: 1em"></span>The Display<span style="margin-left: 1em"></span></h2>
    <ul>
      <li>
        <p>
          The display can show you various readings but most importantly it
          will show you the current AQI for the country in settings. For the
          US this is the <em>US EPA Air Quality Index</em>. For India it is
          the Indian <em>National Air Quality Index</em>.
        </p>
      </li>
      <li>
        <p>
          The upper button will switch between display modes. The default
          display modes are:
        </p>
        <ul>
          <li>
            <p>
              AQI
            </p>
          </li>
          <li>
            <p>
              2x2 display of AQI, Temperature (Celcius or Farenheit), Relative
              Humidity (Percentage), and Particle Concentration.
            </p>
          </li>
          <li>
            <p>
              2x2 display of Gadet hostname, IP address, AQI Index Name,
              Particle Calibration.
            </p>
          </li>
        </ul>
      </li>
      <li>
        <p>
          The display will turn itself off after a certain amount of time. You
          can turn it on again by pressing one of the buttons.
        </p>
      </li>
    </ul>
    <h2 id="auto-3">3<span style="margin-left: 1em"></span>Web Interface<span style="margin-left: 1em"></span></h2>
    <ul>
      <li>
        <p>
          When using port &ldquo;A&rdquo; to power the device, WiFi is active,
          and the device is set up with the network and password, you can
          visit its website at the URL:
          <samp>http://aqi-gadget-XXX.local</samp> &mdash; where
          <samp>XXX</samp> is the serial number of your device (for example
          001). You can see the device name on its display. Alternately you
          can use its IP address directly (also indicated on the display) such
          as: <samp>http://192.168.0.232</samp> for example.
        </p>
      </li>
      <li>
        <p>
          When port &ldquo;B&rdquo; is used you can get to the website using
          either <samp>http://aqi-gadget-XXX.local</samp> as above or with the
          exact address which is: <samp>http://10.10.10.1</samp>. That address
          is hard coded and will not change. You can only access the device
          via the computer its plugged into when using port &ldquo;B&rdquo;.
        </p>
      </li>
      <li>
        <p>
          The web interface is best viewed on a phone or tablet when not in
          landscape mode but it also works from a computer's web browser.
        </p>
      </li>
    </ul>
    <h2 id="auto-4">4<span style="margin-left: 1em"></span>Typical Use Cases<span style="margin-left: 1em"></span></h2>
    <ul>
      <li>
        <p>
          Testing interior and/or exterior air quality during wild fires.
        </p>
      </li>
      <li>
        <p>
          Get a baseline for polution in your house or car.
        </p>
      </li>
      <li>
        <p>
          Determine the efficacy of your car's air filter. (It probably sucks
          during a wild fire.)
        </p>
      </li>
      <li>
        <p>
          Find our when you need to turn on/off your house air filtere.
        </p>
      </li>
      <li>
        <p>
          Find our which rooms in your house have the best air quality. This
          can change dramatically during a wild fire.
        </p>
      </li>
    </ul>
    <h2 id="auto-5">5<span style="margin-left: 1em"></span>Caveats<span style="margin-left: 1em"></span></h2>
    <ul>
      <li>
        <p>
          I've tried to make this thing as accurate as possible but there are
          no guarantees. You can test it against other AQI monitors on the
          internet like <font color="blue">&lt;</font>hlink<font color="blue">|</font><font
          color="black"> https://www.purpleair.com</font><font color="blue">|</font><font
          color="#228"><tt></tt></font><font color="blue">&gt;</font> to guage its
          accuracy in your area. In the case of purple air: set reporting for
          &ldquo;US EPA PM2.5 AQI&rdquo; and &ldquo;US EPA&rdquo; for wood
          smoke or &ldquo;None&rdquo; for non-wood smoke (this applies in the
          US only).
        </p>
      </li>
      <li>
        <p>
          The most fragile parts of the device are the particle sensor (the
          blue box on the bottom) and the SD Card. The most likely failure
          will be the particle sensor. Either way if you want it fixed just
          contact me. You can tell the particle sensor is wigging out if the
          AQI readings start dramatically fluctuating for no good reason
          consistantly. Occasionally it will fluctuate because something
          happened to it like a nat or very tiny spider went in there. Try
          blowing hard on its fan to see if you can dislodge any beastie which
          may have taken up residence.
        </p>
      </li>
      <li>
        <p>
          The particle sensor is designed to detect PM2.5 particles or smaller
          (2.5 micometers). These are the most important particle sizes for
          pollution and wood smoke. It will extrapolate to particles up to
          PM10 (10 micrometers) but I don't believe its accurate for that
          range. PM10 particles are reported on the total particle count page
          of the website and on the graph. 
        </p>
      </li>
      <li>
        <p>
          If your finger covers the particle sensor fan or touches it and it
          stops: just move your finger and forget about it.
        </p>
      </li>
    </ul>
    <h2 id="auto-6">6<span style="margin-left: 1em"></span>Hacking<span style="margin-left: 1em"></span></h2>
    <ul>
      <li>
        <p>
          The AQI Gadget is a Raspberry Pi Zero W connected to two main
          components from Adafruit. All of the software is available
          at <a href="https://github.com/jimhourihan/aqi-gadget">my github
          repo</a>. Links to the particle sensor and BME680 (environment sensors) are
          available there as well.
        </p>
      </li>
      <li>
        <p>
          Your AQI Gadget is constructed of the finest Blu Tac (basically
          playdoh) and rubber bands that you can find on Amazon. The wood is
          from some game that we lost most of the pieces to. The reason the
          small PCB is located at the end of the wood stick and buffered by
          some styrofoam is to insulate it against heat and infrared radiation
          from the Raspberry Pi Zero. 
        </p>
        <p>
          The product design probably makes Steve Jobs very sad in whatever
          plane of existence he currently inhabits and I'm sorry about that.
        </p>
        <p>
          If it falls apart just use more rubber bands and/or Blue Tac or tell
          me and I'll gladly come over with some super glue.
        </p>
      </li>
      <li>
        <p>
          SSH is enabled on the device. You can login to the gadget from your
          computer like so:
        </p>
        <p style="margin-top: 1em; margin-bottom: 1em">
          <div style="margin-left: 35.145870328812px">
            <div style="text-indent: 0em">
              <div class="compact-block">
                <p>
                  <tt class="verbatim">ssh pi@aqi-gadget-XXX.local</tt>
                </p>
              </div>
            </div>
          </div>
        </p>
        <p>
          where XXX indicates your serial number. Alternately you can
          substitute in the IP address directly. When attached to port
          &ldquo;B&rdquo; the IP address is always 10.10.10.1. In WiFi mode
          you should find the IP address on the display or use your router's
          Wifi clients list.
        </p>
        <p>
          The password is &ldquo;raspberry&rdquo;. If you are worried about
          the NSA getting into your device change the password. It won't help
          but you'll feel better. (Note: you have to switch to read-write mode
          before doing so).
        </p>
      </li>
      <li>
        <p>
          The device is in read-only mode. In the <strong>pi</strong> user's
          shell you can type <tt class="verbatim">rw</tt> to change into read-write mode
          and <tt class="verbatim">ro</tt> to change back to read-only. Always reset to
          read-only mode before unplugging the device. Read-only mode prevents
          requiring a &ldquo;clean shutdown&rdquo; of the raspberry pi.
        </p>
      </li>
      <li>
        <p>
          One fun thing you can do is just take it apart, remove the garbage
          that holds it together and replace it with something reasonable.
        </p>
      </li>
    </ul>
    <h2 id="auto-7">7<span style="margin-left: 1em"></span>Trivia<span style="margin-left: 1em"></span></h2>
    <p>
      Of all the crap I've made this is one of the few that Rosa actively
      complimented me on and used frequently. Hopefully you get some good use
      out of it.
    </p>
  </body>
</html>
